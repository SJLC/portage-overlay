diff -ur xine-lib-1.2.2/src/post/deinterlace/Makefile.in xine-lib-1.2.1/src/post/deinterlace/Makefile.in
--- xine-lib-1.2.2/src/post/deinterlace/Makefile.in	2012-06-09 10:44:03.000000000 -0700
+++ xine-lib-1.2.1/src/post/deinterlace/Makefile.in	2012-02-04 05:09:35.000000000 -0800
@@ -1,4 +1,4 @@
-# Makefile.in generated by automake 1.11.3 from Makefile.am.
+# Makefile.in generated by automake 1.11.2 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
@@ -105,8 +105,8 @@
 	xineplug_post_tvtime_la-tvtime.lo
 xineplug_post_tvtime_la_OBJECTS =  \
 	$(am_xineplug_post_tvtime_la_OBJECTS)
-AM_V_lt = $(am__v_lt_@AM_V@)
-am__v_lt_ = $(am__v_lt_@AM_DEFAULT_V@)
+AM_V_lt = $(am__v_lt_$(V))
+am__v_lt_ = $(am__v_lt_$(AM_DEFAULT_VERBOSITY))
 am__v_lt_0 = --silent
 xineplug_post_tvtime_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -122,21 +122,21 @@
 	$(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
 	$(AM_CFLAGS) $(CFLAGS)
-AM_V_CC = $(am__v_CC_@AM_V@)
-am__v_CC_ = $(am__v_CC_@AM_DEFAULT_V@)
+AM_V_CC = $(am__v_CC_$(V))
+am__v_CC_ = $(am__v_CC_$(AM_DEFAULT_VERBOSITY))
 am__v_CC_0 = @echo "  CC    " $@;
-AM_V_at = $(am__v_at_@AM_V@)
-am__v_at_ = $(am__v_at_@AM_DEFAULT_V@)
+AM_V_at = $(am__v_at_$(V))
+am__v_at_ = $(am__v_at_$(AM_DEFAULT_VERBOSITY))
 am__v_at_0 = @
 CCLD = $(CC)
 LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-AM_V_CCLD = $(am__v_CCLD_@AM_V@)
-am__v_CCLD_ = $(am__v_CCLD_@AM_DEFAULT_V@)
+AM_V_CCLD = $(am__v_CCLD_$(V))
+am__v_CCLD_ = $(am__v_CCLD_$(AM_DEFAULT_VERBOSITY))
 am__v_CCLD_0 = @echo "  CCLD  " $@;
-AM_V_GEN = $(am__v_GEN_@AM_V@)
-am__v_GEN_ = $(am__v_GEN_@AM_DEFAULT_V@)
+AM_V_GEN = $(am__v_GEN_$(V))
+am__v_GEN_ = $(am__v_GEN_$(AM_DEFAULT_VERBOSITY))
 am__v_GEN_0 = @echo "  GEN   " $@;
 SOURCES = $(xineplug_post_tvtime_la_SOURCES)
 DIST_SOURCES = $(xineplug_post_tvtime_la_SOURCES)
@@ -551,7 +551,6 @@
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
 	    cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe);; \
 	esac;
-$(top_srcdir)/misc/Makefile.quiet $(top_srcdir)/misc/Makefile.common:
 
 $(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
 	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
@@ -592,7 +591,7 @@
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
-xineplug_post_tvtime.la: $(xineplug_post_tvtime_la_OBJECTS) $(xineplug_post_tvtime_la_DEPENDENCIES) $(EXTRA_xineplug_post_tvtime_la_DEPENDENCIES) 
+xineplug_post_tvtime.la: $(xineplug_post_tvtime_la_OBJECTS) $(xineplug_post_tvtime_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(xineplug_post_tvtime_la_LINK) -rpath $(xinepostdir) $(xineplug_post_tvtime_la_OBJECTS) $(xineplug_post_tvtime_la_LIBADD) $(LIBS)
 
 mostlyclean-compile:
diff -ur xine-lib-1.2.2/src/post/deinterlace/plugins/greedy2frame.c xine-lib-1.2.1/src/post/deinterlace/plugins/greedy2frame.c
--- xine-lib-1.2.2/src/post/deinterlace/plugins/greedy2frame.c	2012-05-26 13:49:59.000000000 -0700
+++ xine-lib-1.2.1/src/post/deinterlace/plugins/greedy2frame.c	2012-02-03 16:41:43.000000000 -0800
@@ -33,7 +33,6 @@
 
 #include <xine/attributes.h>
 #include <xine/xineutils.h>
-#include "xine_mmx.h"
 #include "deinterlace.h"
 #include "speedtools.h"
 #include "speedy.h"
@@ -45,45 +44,12 @@
 // uncomment next line to see this
 //#define CHECK_BOBWEAVE
 
-#define GREEDYTWOFRAMETHRESHOLD 4
-#define GREEDYTWOFRAMETHRESHOLD2 8
+static int GreedyTwoFrameThreshold = 4;
+static int GreedyTwoFrameThreshold2 = 8;
 
-#define IS_MMXEXT 1
+#define IS_SSE 1
 #include "greedy2frame_template.c"
-#undef IS_MMXEXT
-
-#include "greedy2frame_template_sse2.c"
-
-static void DeinterlaceGreedy2Frame(uint8_t *output, int outstride,
-                                    deinterlace_frame_data_t *data,
-                                    int bottom_field, int second_field, int width, int height )
-
-{
-    if (xine_mm_accel() & MM_ACCEL_X86_SSE2) {
-        if (((uintptr_t)output & 15) || (outstride & 15) ||
-            width & 7 ||
-            ((uintptr_t)data->f0 & 15) || ((uintptr_t)data->f1 & 15)) {
-            /*
-             * instead of using an unaligned sse2 version just fall back to mmx
-             * which has no alignment restriction (though might be slow unaliged,
-             * but shouldn't hit this hopefully anyway). Plus in my experiments this
-             * was at least as fast as a naive unaligned sse2 version anyway (due to
-             * the inability to use streaming stores).
-             */
-            DeinterlaceGreedy2Frame_MMXEXT(output, outstride, data,
-                                           bottom_field, second_field, width, height );
-        } else {
-            DeinterlaceGreedy2Frame_SSE2(output, outstride, data,
-                                         bottom_field, second_field, width, height );
-        }
-    }
-    else {
-        DeinterlaceGreedy2Frame_MMXEXT(output, outstride, data,
-                                       bottom_field, second_field, width, height );
-        /* could fall back to 3dnow/mmx here too */
-    }
-}
-
+#undef IS_SSE
 
 static deinterlace_method_t greedy2framemethod =
 {
@@ -95,7 +61,7 @@
     0,
     0,
     0,
-    DeinterlaceGreedy2Frame,
+    DeinterlaceGreedy2Frame_SSE,
     1,
     NULL
 };
diff -ur xine-lib-1.2.2/src/post/deinterlace/plugins/greedy2frame_template.c xine-lib-1.2.1/src/post/deinterlace/plugins/greedy2frame_template.c
--- xine-lib-1.2.2/src/post/deinterlace/plugins/greedy2frame_template.c	2012-05-26 13:49:59.000000000 -0700
+++ xine-lib-1.2.1/src/post/deinterlace/plugins/greedy2frame_template.c	2012-02-03 16:41:43.000000000 -0800
@@ -85,16 +85,23 @@
 */
 
 
+/* debugging feature */
+/* output the value of mm4 at this point which is pink where we will weave */
+/* and green were we are going to bob */
+/* uncomment next line to see this */
+/* #define CHECK_BOBWEAVE */
+
 #if !defined(MASKS_DEFINED)
 #define MASKS_DEFINED
-static const mmx_t Mask = { uq: 0x7f7f7f7f7f7f7f7fll };
-#define TP GREEDYTWOFRAMETHRESHOLD, GREEDYTWOFRAMETHRESHOLD2
-static const mmx_t GreedyTwoFrameThreshold = { ub: {TP, TP, TP, TP} };
-#undef TP
+  static const int64_t __attribute__((__used__)) YMask    = 0x00ff00ff00ff00ffll;
+  static const int64_t __attribute__((__used__)) Mask = 0x7f7f7f7f7f7f7f7fll;
+  static const int64_t __attribute__((__used__)) DwordOne = 0x0000000100000001ll;
+  static const int64_t __attribute__((__used__)) DwordTwo = 0x0000000200000002ll;
+  static int64_t qwGreedyTwoFrameThreshold;
 #endif
 
-#if defined(IS_MMXEXT)
-static void DeinterlaceGreedy2Frame_MMXEXT(uint8_t *output, int outstride,
+#if defined(IS_SSE)
+static void DeinterlaceGreedy2Frame_SSE(uint8_t *output, int outstride,
                                  deinterlace_frame_data_t *data,
                                  int bottom_field, int second_field, int width, int height )
 #elif defined(IS_3DNOW)
@@ -123,6 +130,13 @@
     uint32_t LineLength = stride;
     uint32_t PitchRest = Pitch - (LineLength >> 3)*8;
 
+    qwGreedyTwoFrameThreshold = GreedyTwoFrameThreshold;
+    qwGreedyTwoFrameThreshold += (GreedyTwoFrameThreshold2 << 8);
+    qwGreedyTwoFrameThreshold += (qwGreedyTwoFrameThreshold << 48) +
+                                (qwGreedyTwoFrameThreshold << 32) +
+                                (qwGreedyTwoFrameThreshold << 16);
+
+
     if( second_field ) {
         M1 = data->f0;
         T1 = data->f0;
@@ -169,15 +183,14 @@
           asm volatile(
        /* Figure out what to do with the scanline above the one we just copied.
         * See above for a description of the algorithm.
-        * weave if (weave(M) AND (weave(T) OR weave(B)))
-        */
+	*/
+            ".align 8 \n\t"
+            "movq %4, %%mm6			\n\t"
+
             "movq %0, %%mm1			\n\t"     // T1
             "movq %1, %%mm0			\n\t"     // M1
             "movq %2, %%mm3			\n\t"     // B1
             "movq %3, %%mm2			\n\t"     // M0
-
-            "movq %4, %%mm6			\n\t"     // Mask
-
             : /* no output */
             : "m" (*T1), "m" (*M1),
               "m" (*B1), "m" (*M0), "m" (Mask) );
@@ -190,7 +203,7 @@
 	*/
 	    "movq %%mm3, %%mm7			\n\t" /* mm7 = B1 */
 
-#if defined(IS_MMXEXT)
+#if defined(IS_SSE)
             "pavgb %%mm1, %%mm7			\n\t"
 #elif defined(IS_3DNOW)
             "pavgusb %%mm1, %%mm7		\n\t"
@@ -209,84 +222,93 @@
 	  * which should make weave look better when there is small amounts of
 	  * movement
 	  */
-#if defined(IS_MMXEXT)
-            "movq    %%mm0, %%mm4		\n\t"
-            "movq    %%mm2, %%mm5		\n\t"
-            "psubusb %%mm2, %%mm4		\n\t"
-            "psubusb %%mm0, %%mm5		\n\t"
-            "por     %%mm5, %%mm4		\n\t"
-            "pavgb   %%mm2, %%mm0		\n\t"
+#if defined(IS_SSE)
+            "movq    %%mm0, %%mm4			\n\t"
+            "movq    %%mm2, %%mm5			\n\t"
+            "psubusb %%mm2, %%mm4			\n\t"
+            "psubusb %%mm0, %%mm5			\n\t"
+            "por     %%mm5, %%mm4			\n\t"
+            "psrlw   $1, %%mm4			\n\t"
+            "pavgb   %%mm2, %%mm0			\n\t"
+            "pand    %%mm6, %%mm4			\n\t"
 #elif defined(IS_3DNOW)
-            "movq    %%mm0, %%mm4		\n\t"
-            "movq    %%mm2, %%mm5		\n\t"
-            "psubusb %%mm2, %%mm4		\n\t"
-            "psubusb %%mm0, %%mm5		\n\t"
-            "por     %%mm5, %%mm4		\n\t"
-            "pavgusb %%mm2, %%mm0		\n\t"
-#else
-            "movq    %%mm0, %%mm4		\n\t"
-            "psubusb %%mm2, %%mm4		\n\t"
-            "psubusb %%mm0, %%mm2		\n\t"
-            "por     %%mm2, %%mm4		\n\t"
+            "movq    %%mm0, %%mm4			\n\t"
+            "movq    %%mm2, %%mm5			\n\t"
+            "psubusb %%mm2, %%mm4			\n\t"
+            "psubusb %%mm0, %%mm5			\n\t"
+            "por     %%mm5, %%mm4			\n\t"
+            "psrlw   $1, %%mm4			\n\t"
+            "pavgusb %%mm2, %%mm0			\n\t"
+            "pand    %%mm6, %%mm4			\n\t"
+#else
+            "movq    %%mm0, %%mm4			\n\t"
+            "psubusb %%mm2, %%mm4			\n\t"
+            "psubusb %%mm0, %%mm2			\n\t"
+            "por     %%mm2, %%mm4			\n\t"
+            "psrlw   $1, %%mm4			\n\t"
+            "pand    %%mm6, %%mm4			\n\t"
 #endif
 
-            "movq    %1, %%mm2			\n\t" /* mm2 = T0 */
-
-            /* if |M1-M0| > Threshold we want 0 else dword minus one */
-            "psrlw   $1, %%mm4			\n\t"
-            "pand    %%mm6, %%mm4		\n\t"
-            "pxor    %%mm5, %%mm5		\n\t" // zero
+            /* if |M1-M0| > Threshold we want dword worth of twos */
             "pcmpgtb %3, %%mm4			\n\t"
-            "pcmpeqd %%mm5, %%mm4		\n\t" /* do we want to bob */
+            "pand    %4, %%mm4			\n\t" /* get rid of sign bit */
+            "pcmpgtd %5, %%mm4			\n\t" /* do we want to bob */
+            "pandn   %6, %%mm4			\n\t"
+
+            "movq    %1, %%mm2			\n\t" /* mm2 = T0 */
 
             /* calculate |T1-T0| put result in mm5 */
-            "movq    %%mm2, %%mm5		\n\t"
-            "psubusb %%mm1, %%mm5		\n\t"
-            "psubusb %%mm2, %%mm1		\n\t"
-            "por     %%mm1, %%mm5		\n\t"
+            "movq    %%mm2, %%mm5			\n\t"
+            "psubusb %%mm1, %%mm5			\n\t"
+            "psubusb %%mm2, %%mm1			\n\t"
+            "por     %%mm1, %%mm5			\n\t"
+            "psrlw   $1, %%mm5			\n\t"
+            "pand    %%mm6, %%mm5			\n\t"
 
-            "movq    %2, %%mm2			\n\t" /* mm2 = B0 */
+            /* if |T1-T0| > Threshold we want dword worth of ones */
+            "pcmpgtb %3, %%mm5			\n\t"
+            "pand    %%mm6, %%mm5		\n\t" /* get rid of sign bit */
 
-            /* if |T1-T0| > Threshold we want 0 else dword minus one */
+            "pcmpgtd %5, %%mm5			\n\t"
+            "pandn   %5, %%mm5			\n\t"
+            "paddd   %%mm5, %%mm4			\n\t"
+
+            "movq    %2, %%mm2			\n\t"     /* B0 */
+
+            /* calculate |B1-B0| put result in mm5 */
+            "movq    %%mm2, %%mm5			\n\t"
+            "psubusb %%mm3, %%mm5			\n\t"
+            "psubusb %%mm2, %%mm3			\n\t"
+            "por     %%mm3, %%mm5			\n\t"
             "psrlw   $1, %%mm5			\n\t"
-            "pand    %%mm6, %%mm5		\n\t"
-            "pxor    %%mm1, %%mm1		\n\t" // zero
-            "pcmpgtb %3, %%mm5			\n\t"
-            "pcmpeqd %%mm1, %%mm5		\n\t"
+            "pand    %%mm6, %%mm5			\n\t"
 
-            /* calculate |B1-B0| put result in mm1 */
-            "movq    %%mm2, %%mm1		\n\t"
-            "psubusb %%mm3, %%mm1		\n\t"
-            "psubusb %%mm2, %%mm3		\n\t"
-            "por     %%mm3, %%mm1		\n\t"
-
-            /* if |B1-B0| > Threshold we want 0 else dword minus one */
-            "psrlw   $1, %%mm1			\n\t"
-            "pand    %%mm6, %%mm1		\n\t"
-            "pxor    %%mm3, %%mm3		\n\t" // zero
-            "pcmpgtb %3, %%mm1			\n\t"
-            "pcmpeqd %%mm3, %%mm1		\n\t"
+            /* if |B1-B0| > Threshold we want dword worth of ones */
+            "pcmpgtb %3, %%mm5		\n\t"
+            "pand    %%mm6, %%mm5	\n\t"     /* get rid of any sign bit */
+            "pcmpgtd %5, %%mm5			\n\t"
+            "pandn   %5, %%mm5			\n\t"
+            "paddd   %%mm5, %%mm4			\n\t"
 
-            "por     %%mm1, %%mm5		\n\t"
-            "pand    %%mm5, %%mm4		\n\t"
+            "pcmpgtd %6, %%mm4			\n\t"
 
 /* debugging feature
  * output the value of mm4 at this point which is pink where we will weave
- * and green where we are going to bob
- */
+ * and green were we are going to bob                                      */
 #ifdef CHECK_BOBWEAVE
-#ifdef IS_MMXEXT
+#ifdef IS_SSE
             "movntq %%mm4, %0			\n\t"
 #else
             "movq %%mm4, %0			\n\t"
 #endif
 #else
 
-            /* mm4 now is 1 where we want to weave and 0 where we want to bob */
-            "pand    %%mm4, %%mm0		\n\t"
-            "pandn   %%mm7, %%mm4		\n\t"
-            "por     %%mm0, %%mm4		\n\t"
-#ifdef IS_MMXEXT
+            "movq    %%mm4, %%mm5			\n\t"
+         /* mm4 now is 1 where we want to weave and 0 where we want to bob */
+            "pand    %%mm0, %%mm4			\n\t"
+            "pandn   %%mm7, %%mm5			\n\t"
+            "por     %%mm5, %%mm4			\n\t"
+#ifdef IS_SSE
             "movntq %%mm4, %0			\n\t"
 #else
             "movq %%mm4, %0			\n\t"
@@ -294,7 +316,7 @@
 #endif
 
           : "=m" (*Dest2)
-          : "m" (*T0), "m" (*B0), "m" (GreedyTwoFrameThreshold) );
+          : "m" (*T0), "m" (*B0), "m" (qwGreedyTwoFrameThreshold), "m" (Mask), "m" (DwordOne), "m" (DwordTwo) );
 
           /* Advance to the next set of pixels. */
           T1 += 8;
@@ -317,7 +339,7 @@
         B0 += PitchRest;
     }
 
-#ifdef IS_MMXEXT
+#ifdef IS_SSE
     asm("sfence\n\t");
 #endif
 
Only in xine-lib-1.2.2/src/post/deinterlace/plugins: greedy2frame_template_sse2.c
diff -ur xine-lib-1.2.2/src/post/deinterlace/plugins/Makefile.am xine-lib-1.2.1/src/post/deinterlace/plugins/Makefile.am
--- xine-lib-1.2.2/src/post/deinterlace/plugins/Makefile.am	2012-05-26 13:49:59.000000000 -0700
+++ xine-lib-1.2.1/src/post/deinterlace/plugins/Makefile.am	2012-02-03 16:41:43.000000000 -0800
@@ -23,7 +23,7 @@
 AM_CPPFLAGS = -I$(top_srcdir)/src/post/deinterlace \
               -I$(top_srcdir)/src/xine-utils
 
-EXTRA_DIST = greedy2frame_template.c greedy2frame_template_sse2.c greedyh.asm \
+EXTRA_DIST = greedy2frame_template.c greedyh.asm \
 	tomsmocomp/SearchLoop0A.inc tomsmocomp/SearchLoopBottom.inc \
 	tomsmocomp/SearchLoopEdgeA.inc tomsmocomp/SearchLoopEdgeA8.inc \
 	tomsmocomp/SearchLoopOddA.inc tomsmocomp/SearchLoopOddA2.inc \
diff -ur xine-lib-1.2.2/src/post/deinterlace/plugins/Makefile.in xine-lib-1.2.1/src/post/deinterlace/plugins/Makefile.in
--- xine-lib-1.2.2/src/post/deinterlace/plugins/Makefile.in	2012-06-09 10:44:03.000000000 -0700
+++ xine-lib-1.2.1/src/post/deinterlace/plugins/Makefile.in	2012-02-04 05:09:35.000000000 -0800
@@ -1,4 +1,4 @@
-# Makefile.in generated by automake 1.11.3 from Makefile.am.
+# Makefile.in generated by automake 1.11.2 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
@@ -83,8 +83,8 @@
 	libdeinterlaceplugins_la-kdetv_tomsmocomp.lo $(am__objects_1)
 libdeinterlaceplugins_la_OBJECTS =  \
 	$(am_libdeinterlaceplugins_la_OBJECTS)
-AM_V_lt = $(am__v_lt_@AM_V@)
-am__v_lt_ = $(am__v_lt_@AM_DEFAULT_V@)
+AM_V_lt = $(am__v_lt_$(V))
+am__v_lt_ = $(am__v_lt_$(AM_DEFAULT_VERBOSITY))
 am__v_lt_0 = --silent
 libdeinterlaceplugins_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
@@ -113,21 +113,21 @@
 	$(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
 	$(AM_CFLAGS) $(CFLAGS)
-AM_V_CC = $(am__v_CC_@AM_V@)
-am__v_CC_ = $(am__v_CC_@AM_DEFAULT_V@)
+AM_V_CC = $(am__v_CC_$(V))
+am__v_CC_ = $(am__v_CC_$(AM_DEFAULT_VERBOSITY))
 am__v_CC_0 = @echo "  CC    " $@;
-AM_V_at = $(am__v_at_@AM_V@)
-am__v_at_ = $(am__v_at_@AM_DEFAULT_V@)
+AM_V_at = $(am__v_at_$(V))
+am__v_at_ = $(am__v_at_$(AM_DEFAULT_VERBOSITY))
 am__v_at_0 = @
 CCLD = $(CC)
 LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-AM_V_CCLD = $(am__v_CCLD_@AM_V@)
-am__v_CCLD_ = $(am__v_CCLD_@AM_DEFAULT_V@)
+AM_V_CCLD = $(am__v_CCLD_$(V))
+am__v_CCLD_ = $(am__v_CCLD_$(AM_DEFAULT_VERBOSITY))
 am__v_CCLD_0 = @echo "  CCLD  " $@;
-AM_V_GEN = $(am__v_GEN_@AM_V@)
-am__v_GEN_ = $(am__v_GEN_@AM_DEFAULT_V@)
+AM_V_GEN = $(am__v_GEN_$(V))
+am__v_GEN_ = $(am__v_GEN_$(AM_DEFAULT_VERBOSITY))
 am__v_GEN_0 = @echo "  GEN   " $@;
 SOURCES = $(libdeinterlaceplugins_la_SOURCES) \
 	$(libdeinterlacepluginsO1_la_SOURCES)
@@ -492,7 +492,7 @@
 AM_CPPFLAGS = -I$(top_srcdir)/src/post/deinterlace \
               -I$(top_srcdir)/src/xine-utils
 
-EXTRA_DIST = greedy2frame_template.c greedy2frame_template_sse2.c greedyh.asm \
+EXTRA_DIST = greedy2frame_template.c greedyh.asm \
 	tomsmocomp/SearchLoop0A.inc tomsmocomp/SearchLoopBottom.inc \
 	tomsmocomp/SearchLoopEdgeA.inc tomsmocomp/SearchLoopEdgeA8.inc \
 	tomsmocomp/SearchLoopOddA.inc tomsmocomp/SearchLoopOddA2.inc \
@@ -546,7 +546,6 @@
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
 	    cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe);; \
 	esac;
-$(top_srcdir)/misc/Makefile.quiet $(top_srcdir)/misc/Makefile.common:
 
 $(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
 	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
@@ -565,9 +564,9 @@
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
-libdeinterlaceplugins.la: $(libdeinterlaceplugins_la_OBJECTS) $(libdeinterlaceplugins_la_DEPENDENCIES) $(EXTRA_libdeinterlaceplugins_la_DEPENDENCIES) 
+libdeinterlaceplugins.la: $(libdeinterlaceplugins_la_OBJECTS) $(libdeinterlaceplugins_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(libdeinterlaceplugins_la_LINK)  $(libdeinterlaceplugins_la_OBJECTS) $(libdeinterlaceplugins_la_LIBADD) $(LIBS)
-libdeinterlacepluginsO1.la: $(libdeinterlacepluginsO1_la_OBJECTS) $(libdeinterlacepluginsO1_la_DEPENDENCIES) $(EXTRA_libdeinterlacepluginsO1_la_DEPENDENCIES) 
+libdeinterlacepluginsO1.la: $(libdeinterlacepluginsO1_la_OBJECTS) $(libdeinterlacepluginsO1_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(libdeinterlacepluginsO1_la_LINK)  $(libdeinterlacepluginsO1_la_OBJECTS) $(libdeinterlacepluginsO1_la_LIBADD) $(LIBS)
 
 mostlyclean-compile:
diff -ur xine-lib-1.2.2/src/post/deinterlace/speedy.c xine-lib-1.2.1/src/post/deinterlace/speedy.c
--- xine-lib-1.2.2/src/post/deinterlace/speedy.c	2012-05-26 13:49:59.000000000 -0700
+++ xine-lib-1.2.1/src/post/deinterlace/speedy.c	2012-02-03 16:41:43.000000000 -0800
@@ -344,89 +344,6 @@
 }
 #endif
 
-#if defined(ARCH_X86) || defined(ARCH_X86_64)
-
-static const sse_t dqwYMask = { uq: { 0x00ff00ff00ff00ffULL, 0x00ff00ff00ff00ffULL }};
-static const sse_t dqwCMask = { uq: { 0xff00ff00ff00ff00ULL, 0xff00ff00ff00ff00ULL }};
-
-static unsigned int diff_factor_packed422_scanline_sse2_aligned( uint8_t *cur, uint8_t *old, int width )
-{
-    register unsigned int temp;
-
-    width /= 8;
-
-    movdqa_m2r( dqwYMask, xmm1 );
-    movd_m2r( BitShift, xmm7 );
-    pxor_r2r( xmm0, xmm0 );
-
-    while( width-- ) {
-        movdqa_m2r( *cur, xmm4 );
-        movdqa_m2r( *old, xmm5 );
-
-        pand_r2r( xmm1, xmm4 );
-        pand_r2r( xmm1, xmm5 );
-
-        psubw_r2r( xmm5, xmm4 );   /* mm4 = Y1 - Y2            */
-        pmaddwd_r2r( xmm4, xmm4 ); /* mm4 = (Y1 - Y2)^2        */
-        psrld_r2r( xmm7, xmm4 );   /* divide mm4 by 2^BitShift */
-        paddd_r2r( xmm4, xmm0 );   /* keep total in mm0        */
-
-        cur += 16;
-        old += 16;
-    }
-
-    pshufd_r2r(xmm0, xmm1, 0x0e);
-    paddd_r2r(xmm1, xmm0);
-    pshufd_r2r(xmm0, xmm1, 0x01);
-    paddd_r2r(xmm1, xmm0);
-
-    movd_r2a(xmm0, temp);
-    return temp;
-}
-#endif
-
-#if defined(ARCH_X86) || defined(ARCH_X86_64)
-static unsigned int diff_factor_packed422_scanline_sse2( uint8_t *cur, uint8_t *old, int width )
-{
-    if (0 == (((unsigned int)cur|(unsigned int)old) & 15)) {
-        return diff_factor_packed422_scanline_sse2_aligned(cur, old, width);
-    }
-
-    register unsigned int temp;
-
-    width /= 8;
-
-    movdqa_m2r( dqwYMask, xmm1 );
-    movd_m2r( BitShift, xmm7 );
-    pxor_r2r( xmm0, xmm0 );
-
-    while( width-- ) {
-        movdqu_m2r( *cur, xmm4 );
-        movdqu_m2r( *old, xmm5 );
-
-        pand_r2r( xmm1, xmm4 );
-        pand_r2r( xmm1, xmm5 );
-
-        psubw_r2r( xmm5, xmm4 );   /* mm4 = Y1 - Y2            */
-        pmaddwd_r2r( xmm4, xmm4 ); /* mm4 = (Y1 - Y2)^2        */
-        psrld_r2r( xmm7, xmm4 );   /* divide mm4 by 2^BitShift */
-        paddd_r2r( xmm4, xmm0 );   /* keep total in mm0        */
-
-        cur += 16;
-        old += 16;
-    }
-
-    pshufd_r2r(xmm0, xmm1, 0x0e);
-    paddd_r2r(xmm1, xmm0);
-    pshufd_r2r(xmm0, xmm1, 0x01);
-    paddd_r2r(xmm1, xmm0);
-
-    movd_r2a(xmm0, temp);
-
-    return temp;
-}
-#endif
-
 #define ABS(a) (((a) < 0)?-(a):(a))
 
 #if defined(ARCH_X86) || defined(ARCH_X86_64)
@@ -800,130 +717,6 @@
 }
 #endif
 
-#if defined(ARCH_X86) || defined(ARCH_X86_64)
-static void vfilter_chroma_332_packed422_scanline_sse2_aligned( uint8_t *output, int width,
-                                                                uint8_t *m, uint8_t *t, uint8_t *b )
-{
-    int i;
-
-    // Get width in bytes.
-    width *= 2;
-    i = width / 16;
-    width -= i * 16;
-
-    movdqa_m2r( dqwYMask, xmm7 );
-    movdqa_m2r( dqwCMask, xmm6 );
-
-    while( i-- ) {
-        movdqa_m2r ( *t, xmm0 );
-        movdqa_m2r ( *b, xmm1 );
-        movdqa_m2r ( *m, xmm2 );
-
-        movdqa_r2r ( xmm2, xmm3 );
-        pand_r2r   ( xmm7, xmm3 );
-
-        pand_r2r   ( xmm6, xmm0 );
-        pand_r2r   ( xmm6, xmm1 );
-        pand_r2r   ( xmm6, xmm2 );
-
-        psrlq_i2r  ( 8, xmm0 );
-        psrlq_i2r  ( 7, xmm1 );
-        psrlq_i2r  ( 8, xmm2 );
-
-        movdqa_r2r ( xmm0, xmm4 );
-        movdqa_r2r ( xmm2, xmm5 );
-        psllw_i2r  ( 1, xmm4 );
-        psllw_i2r  ( 1, xmm5 );
-        paddw_r2r  ( xmm4, xmm0 );
-        paddw_r2r  ( xmm5, xmm2 );
-
-        paddw_r2r  ( xmm0, xmm2 );
-        paddw_r2r  ( xmm1, xmm2 );
-
-        psllw_i2r  ( 5, xmm2 );
-        pand_r2r   ( xmm6, xmm2 );
-
-        por_r2r    ( xmm3, xmm2 );
-
-        movdqa_r2m( xmm2, *output );
-        output += 16;
-        t += 16;
-        b += 16;
-        m += 16;
-    }
-    output++; t++; b++; m++;
-    while( width-- ) {
-        *output = (3 * *t + 3 * *m + 2 * *b) >> 3;
-        output +=2; t+=2; b+=2; m+=2;
-    }
-}
-#endif
-
-#if defined(ARCH_X86) || defined(ARCH_X86_64)
-static void vfilter_chroma_332_packed422_scanline_sse2( uint8_t *output, int width,
-                                                             uint8_t *m, uint8_t *t, uint8_t *b )
-{
-    int i;
-
-    if (0 == (((unsigned int)output|(unsigned int)m|(unsigned int)t|(unsigned int)b) & 15)) {
-      vfilter_chroma_332_packed422_scanline_sse2_aligned(output, width, m, t, b);
-      return;
-    }
-
-    // Get width in bytes.
-    width *= 2;
-    i = width / 16;
-    width -= i * 16;
-
-    movdqa_m2r( dqwYMask, xmm7 );
-    movdqa_m2r( dqwCMask, xmm6 );
-
-    while( i-- ) {
-        movdqu_m2r ( *t, xmm0 );
-        movdqu_m2r ( *b, xmm1 );
-        movdqu_m2r ( *m, xmm2 );
-
-        movdqa_r2r ( xmm2, xmm3 );
-        pand_r2r   ( xmm7, xmm3 );
-
-        pand_r2r   ( xmm6, xmm0 );
-        pand_r2r   ( xmm6, xmm1 );
-        pand_r2r   ( xmm6, xmm2 );
-
-        psrlq_i2r  ( 8, xmm0 );
-        psrlq_i2r  ( 7, xmm1 );
-        psrlq_i2r  ( 8, xmm2 );
-
-        movdqa_r2r ( xmm0, xmm4 );
-        movdqa_r2r ( xmm2, xmm5 );
-        psllw_i2r  ( 1, xmm4 );
-        psllw_i2r  ( 1, xmm5 );
-        paddw_r2r  ( xmm4, xmm0 );
-        paddw_r2r  ( xmm5, xmm2 );
-
-        paddw_r2r  ( xmm0, xmm2 );
-        paddw_r2r  ( xmm1, xmm2 );
-
-        psllw_i2r  ( 5, xmm2 );
-        pand_r2r   ( xmm6, xmm2 );
-
-        por_r2r    ( xmm3, xmm2 );
-
-        movdqu_r2m( xmm2, *output );
-        output += 16;
-        t += 16;
-        b += 16;
-        m += 16;
-    }
-    output++; t++; b++; m++;
-    while( width-- ) {
-        *output = (3 * *t + 3 * *m + 2 * *b) >> 3;
-        output +=2; t+=2; b+=2; m+=2;
-    }
-}
-#endif
-
-
 static void vfilter_chroma_332_packed422_scanline_c( uint8_t *output, int width,
                                                      uint8_t *m, uint8_t *t, uint8_t *b )
 {
@@ -2666,14 +2459,6 @@
             printf( "speedycode: No MMX or MMXEXT support detected, using C fallbacks.\n" );
         }
     }
-
-    if( speedy_accel & MM_ACCEL_X86_SSE2 ) {
-        if( verbose ) {
-            printf( "speedycode: Using SSE2 optimized functions.\n" );
-        }
-        diff_factor_packed422_scanline = diff_factor_packed422_scanline_sse2;
-        vfilter_chroma_332_packed422_scanline = vfilter_chroma_332_packed422_scanline_sse2;
-    }
 #endif
 }
 
